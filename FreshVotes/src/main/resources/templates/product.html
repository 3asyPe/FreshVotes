<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

	<meta charset="UTF-8">
	<title>FreshVotes Product</title>

	<script th:replace="fragments/header :: headerElement"></script>
	
	<link rel="stylesheet" type="text/css" th:href="@{/css/product.css}" />

</head>
<body>
	
<div th:replace="fragments/header :: header"></div>
	
<div class="container" th:if="${product != null}">	
	
	<div class="row header">	
		<h1>Product</h1>
		
		<form th:action="@{{productId}/delete(productId=${product.id})}" method="post" class="header-form">
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
			<button type="submit" class="btn btn-danger btn-sm" 
					onclick="if (!(confirm('Are you sure you want to delete this product?'))) return false">Delete</button>
		</form>
	</div>
	
	<form action="" method="post">
	
		<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" id="csrfToken"/>
		<input type="hidden" th:field="${product.id}">
		<input type="hidden" th:field="${product.user}">
		
		<div class="form-group row">
			<label for="name" class="col-lg-4 col-xl-3 col-form-label">Name</label>
			<div class="col-lg-8 col-xl-9">
				<input class="form-control" type="text" th:field="${product.name}" th:required="required">
			</div>
		</div>
		
		<div class="form-group row">
			<label for="shortDescription" class="col-lg-4 col-xl-3 col-form-label">Short Description</label>
			<div class="col-lg-8 col-xl-9">
				<input class="form-control" type="text" th:field="${product.shortDescription}" th:required="required">
			</div>
		</div>
		
		<div class="form-group row">
			<label for="fullDescription" class="col-lg-4 col-xl-3 col-form-label">Description</label>
			<div class="col-lg-8 col-xl-9">
				<textarea class="form-control my-textarea" id="textarea" rows="3" th:field="${product.fullDescription}" ></textarea>
			</div>
		</div>
	
		<div class="row row-bottom">
			<div class="custom-control custom-switch">
			    <input type="checkbox" class="custom-control-input custom-switch switcher" th:field="${product.published}">
			    <label class="custom-control-label custom-switch-label switcher" for="published1">Is published</label>
			</div>
			
			<button type="submit" class="btn btn-primary btn-save">Save</button>
		</div>
	</form>
	
	<script th:src="@{/javaScript/product.js}"></script>
	
</div>

</body>
</html>