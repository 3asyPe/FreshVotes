<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

	<meta charset="UTF-8">
	<title>FreshVotes Feature</title>

	<script th:replace="fragments/header :: headerElement"></script>
	
	<link rel="stylesheet" type="text/css" th:href="@{/css/feature.css}" />

</head>
<body>
	
<div th:replace="fragments/header :: header"></div>
	
<div class="container">	
	
	<div class="row">
		<h1 class="feature">Feature</h1>
		
		<div class="badge-status">
			<h3><span class="badge badge-secondary" th:text="${feature.status}"></span></h3>
		</div>
	</div>
	
	<form action="" method="post">
	
		<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
		<input type="hidden" th:field="${feature.id}">
		<input type="hidden" th:field="${feature.product}">
		<input type="hidden" th:field="${feature.status}">
		<input type="hidden" th:field="${feature.user}">
		
		<div class="form-group">
			<label for="title">Title</label>
			<input type="text" th:field="${feature.title}" class="form-control" th:attrappend="disabled=${user.id == feature.user.id ? null : 'disabled'}">
		</div>
		
		<div class="form-group">
			<label for="description">Description</label>
			<textarea class="form-control my-textarea" id="textarea" rows="3"
					  th:field="${feature.description}" th:attrappend="disabled=${user.id == feature.user.id ? null : 'disabled'}"></textarea>
		</div>	
		
		<button type="submit" class="btn btn-primary" th:if="${user.id == feature.user.id}">Save</button>
	</form>
	
</div>

<script th:src="@{/javaScript/feature.js}"></script>

</body>
</html>